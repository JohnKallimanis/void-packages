# Template file for 'xephem'
pkgname=xephem
version=3.7.7
revision=1
build_style=gnu-makefile
make_build_args="-C GUI/xephem"
makedepends="libpng-devel lesstif-devel libICE-devel libSM-devel libX11-devel libXau-devel
	libxcb-devel libXdmcp-devel libXmu-devel libXp-devel libXt-devel libXext-devel groff"
short_desc="Interactive astronomical ephemeris for the serious amateur astronomer"
maintainer="John Kallimanis <johnkall007@gmail.com>"
license="Proprietary"
homepage="https://www.clearskyinstitute.com/xephem/"
distfiles="https://www.clearskyinstitute.com/xephem/xephem-${version}.tgz"
checksum="fb0b889218322c1cc0b994da7125e624e4f0112d9da1c468936600d1179e55de"
patch_args="-p1"

do_build() {
	make -C GUI/xephem
}

do_install() {
	vlicense Copyright Xephem-License

	cd GUI/xephem
	vbin xephem

	vmkdir /usr/share/xephem
	vcopy auxil /usr/share/xephem
	vcopy catalogs /usr/share/xephem
	vcopy fifos /usr/share/xephem
	vcopy fits /usr/share/xephem
	vcopy gallery /usr/share/xephem
	vcopy lo /usr/share/xephem
	vman xephem.1

	vmkdir /usr/share/xephem/help
	vcopy help/xephem.html /usr/share/xephem/help/
	vcopy help/png /usr/share/xephem/help/

	vmkdir /etc
	vcopy "${FILESDIR}"/XEphem /etc

	vmkdir /usr/share/applications
	vcopy "${FILESDIR}"/xephem.desktop /usr/share/applications/

	vmkdir /usr/share/pixmaps
	vcopy XEphem.png /usr/share/pixmaps/
}
